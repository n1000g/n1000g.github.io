<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>【OS 基础课笔记】一、操作系统引论 | n1000g</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://n1000g.github.io/favicon.ico?v=1639699649295">
<link rel="stylesheet" href="https://n1000g.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="
1. 操作系统概述
1.1操作系统的概念和特征
计算机系统的由软硬件共同组成，其中软件又可划分为应用软件和系统软件，操作系统（Operating System，OS）是配置在计算机硬件社上的第一层软件是对硬件系统的首次扩充。管理下层硬件设..." />
    <meta name="keywords" content="Linux,操作系统" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://n1000g.github.io">
        <img src="https://n1000g.github.io/images/avatar.png?v=1639699649295" class="site-logo">
        <h1 class="site-title">n1000g</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="https://n1000g.github.io" class="site-nav">
            首页
          </a>
        
      
        
          <a href="https://n1000g.github.io/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="https://n1000g.github.io/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="https://n1000g.github.io/extract" class="site-nav">
            摘译
          </a>
        
      
        
          <a href="about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      早日成长为一只老攻城狮
    </div>
    <div class="site-footer">
      <li>© 2021 GitHub, Inc.</li> | <a class="rss" href="https://n1000g.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">【OS 基础课笔记】一、操作系统引论</h2>
            <div class="post-date">2021-12-13</div>
            
              <div class="feature-container" style="background-image: url('https://n1000g.github.io/post-images/f-vIjJNtK.png')">
              </div>
            
            <div class="post-content" v-pre>
              <!-- more -->
<h1 id="1-操作系统概述">1. 操作系统概述</h1>
<h2 id="11操作系统的概念和特征">1.1操作系统的概念和特征</h2>
<p>计算机系统的由软硬件共同组成，其中软件又可划分为应用软件和系统软件，操作系统（Operating System，OS）是配置在计算机硬件社上的第一层软件是对硬件系统的首次扩充。管理下层硬件设备，提高设备利用效率，并为上层用户程序提供方便的接口以操作硬件设备完成目标功能即是操作系统的主要功能。</p>
<p>操作系统的基本特征包括并发、共享、虚拟和异步。</p>
<ul>
<li>并发（Concurrence）指同一时间间隔内处理和调度多个程序的能力，主要通过分时得以实现；</li>
<li>共享（Sharing）指系统中资源可供多个并发执行的进程共享使用，包括互斥共享方式和同时访问方式；</li>
<li>虚拟（Virtual）指把一个物理上的实体抽象为若干个逻辑上的对应物，虚拟技术包括时分复用技术（如处理器的分时）和空分复用技术（如虚拟存储技术）；</li>
<li>异步（Asynchronism）指 OS 要保证多个并发执行的进程在同一个环境下多次运行后能获得相同的结果。</li>
</ul>
<h2 id="12-操作系统的目标和作用">1.2 操作系统的目标和作用</h2>
<p>操作系统的设计目标包括<strong>方便性</strong>、<strong>有效性</strong>、<strong>可扩充性</strong>和<strong>开放性</strong>。</p>
<ul>
<li>方便性即提供用户接口，使计算机更方便使用；</li>
<li>有效性即有效管理和分配软硬件资源以及合理组织计算机工作流程，以改善资源利用率提高系统吞吐量；</li>
<li>可扩充性是面向未来的，OS 应当适应计算机硬件和体系架构的迅猛发展及其对应的更高的功能和性能要求；</li>
<li>开放性指适应不同厂家与不同类型的计算机及其设备的网络化集成和协同工作，实现应用程序的可移植性和互操作性；</li>
</ul>
<p>操作系统在计算机系统中所起的作用，可从用户、资源管理和资源抽象等角度分析讨论。</p>
<ul>
<li>OS 是用户与计算机硬件系统之间的接口，包括面向一般用户的命令式、图形化接口和面向应用程序的<a href="#%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3">系统调用</a>接口；</li>
<li>OS 是系统资源的管理者，管理对象包括处理器、存储器、各类外围设备以及其信息（数据和软件），管理操作例如资源的分配回收、访问操作、共享保护等；</li>
<li>OS 实现了对计算机资源的抽象，例如为了方便用户使用 I/O 设备，人们在裸机上铺设一层 I/O 设备管理软件，隐藏具体细节并向用户提供一个对硬件设备操作的抽象模型，用户无需了解硬件物理接口等细节便可用该模型提供的抽象接口使用计算机硬件资源。同理，为了方便用户使用文件系统，可在第一层软件上再覆盖一层用于文件管理的软件，以此类推。由此可知，OS 是铺设在计算机硬件上的多层软件的集合。</li>
</ul>
<h1 id="2-操作系统层次模型">2. 操作系统层次模型</h1>
<p>笼统地说，操作系统层次模型分为三层，自底向上分别是操作系统对象、操作和管理有关对象的软件集合、用户接口：<br>
<img src="https://n1000g.github.io/post-images/1639348511445.png" alt="OS 层次模型 1" loading="lazy"><br>
对这个层次模型以 Linux 或 Unix 系统为例进行细化。由下至上，操作系统内核（Kernel）通过读写硬件接口实现对硬件资源的管理，然后应用程序或命令解释程序（外壳 Shell）通过内核提供的系统调用程序实现用户功能：<br>
<img src="https://n1000g.github.io/post-images/1639348723935.png" alt="OS 层次模型 2" loading="lazy"></p>
<h1 id="3-操作系统接口分类和组成">3. 操作系统接口分类和组成</h1>
<p>用户接口是系统和用户之间进行交互和信息交换的媒介，方便用户使用和管理计算机系统资源，基于接口表现形式可分为用户交互接口和用户程序接口，前者包括脱机/联机命令接口和图形化用户接口方便一般用户直接使用系统资源，后者方便用户程序访问系统资源，由一组系统调用组成。<br>
<img src="https://n1000g.github.io/post-images/1639511501081.jpg" alt="用户接口分类" loading="lazy"></p>
<h2 id="31-命令接口">3.1 命令接口</h2>
<p>按照作业控制方式的不同，可分为联机命令接口（交互式）和脱机命令接口（批处理），由命令解释程序（shell、cmd 等）控制执行。</p>
<blockquote>
<p><a href="https://www.runoob.com/linux/linux-command-manual.html">Linux 命令大全</a></p>
</blockquote>
<h2 id="32-图形用户接口gui">3.2 图形用户接口（GUI）</h2>
<p>现代主流操作系统一般都提供 GUI，方便用户使用，以 Windows 为例，系统初始化后 OS 为终端用户生成一个名为 explorer.exe 的进程，它允许一个巨头窗口界面的命令解释程序，即所谓“桌面”。</p>
<h2 id="33-程序接口">3.3 程序接口</h2>
<p>程序接口是 OS 专门为用户程序设置的，供程序员编程使用，也是用户程序获取 OS 服务的唯一途径。它由一组系统调用（system call）组成。系统调用不仅可供所有应用程序使用，也可供 OS 自身使用，每个操作系统中通常有几十上百条系统调用，每条系统调用都是一个完成特定功能的子程序。</p>
<h3 id="331-系统调用的基本概念">3.3.1 系统调用的基本概念</h3>
<p>大多数计算机系统将 CPU 执行状态分为<strong>目态</strong>（核心态）与<strong>管态</strong>（用户态），CPU 的状态属于程序状态字 PSW 的一位，即系统模式（0）和用户模式（1），CPU 交替执行操作系统程序和用户程序。相应地，现代多数 OS 将 CPU 的指令集分为特权指令和非特权指令两类。前者指在系统态下运行的指令，为外设和内存的访问不受限制；后者是在用户态运行的指令，不能对系统硬件和软件直接访问，对内存的访问也限制在用户空间。</p>
<p>OS 提供系统调用的目的显而易见，即为用户程序提供调用 OS 内核中相关过程的手段，以获取 OS 内核的系统服务。系统调用本质是应用程序请求 OS 内核完成某个功能时的一种过程调用。</p>
<p>系统调用区别于一般过程调用的显著特征：</p>
<ul>
<li>调用程序运行在管态，被调用程序运行在目态；</li>
<li>涉及系统状态（CPU 状态）的转换；</li>
<li>返回问题，调用过程结束后不一定返回被调用过程；</li>
<li>嵌套调用，一般 OS 要设置最大嵌套深度。</li>
</ul>
<h3 id="332-系统调用的分类">3.3.2 系统调用的分类</h3>
<p>一般 OS 的系统调用可分为如下几大类：</p>
<ul>
<li>进程控制类
<ul>
<li>进程创建、结束、等待子进程结束</li>
<li>进程属性设置和获取</li>
<li>执行一个文件</li>
</ul>
</li>
<li>文件操纵类
<ul>
<li>文件创建、打开、关闭、读写等</li>
</ul>
</li>
<li>进程通信类
<ul>
<li>连接的打开关闭、消息的发送接收等</li>
</ul>
</li>
<li>系统信息的维护
<ul>
<li>时间的设置与获取等</li>
</ul>
</li>
</ul>
<h3 id="333-系统调用的实现机理">3.3.3 系统调用的实现机理</h3>
<p>系统调用是通过中断机制实现的，并且一个操作系统所有的系统调用都通过一个中断入口实现。在 Windows 操作系统中是 <code>int 0x21</code> 号中断，Linux 系统中是 <code>int 0x80</code> 号中断。与其他中断实现机制类似，以下是有关系统调用实现机理的数据结构和详细过程。</p>
<p>涉及的两个数据结构：</p>
<ul>
<li>中断向量表（interrupt vector table，IVT）——中断源的识别标志，提供中断类型号到中断处理程序的映射；</li>
<li>系统调用表（sys_call_table）——系统调用号到对应的系统过程映射。</li>
</ul>
<p>实现流程（以 Linux 为例）：</p>
<ol>
<li>用户进程形成一个系统调用号（送入 EAX 寄存器）和参数（送入参数表），执行系统调用命令并触发 <code>int 0x80</code> 号中断；</li>
<li>中断总控模块处理 128 号中断，跳到它的中断处理程序（即系统调用总控模块）；
<ol>
<li>切换处理机状态（核心态 → 用户态）；</li>
<li>由硬件和内核程序进行系统调用的一般性处理，即保护 CPU 现场，保存用户定义的参数；</li>
</ol>
</li>
<li>终端总控模块查系统调用表并转到对应的系统调用处理子程序；</li>
<li>恢复 CPU 现场返回被中断进程或设置新的 CPU 现场转入新进程。</li>
</ol>
<blockquote>
<p><strong>外中断与内中断</strong>——中断也称外中断、硬中断，由来自 CPU 执行指令以外的发生事件造成，通常来自外设请求，中断号由中断控制器提供；内中断也称异常、陷入、软中断，源自 CPU 指令内部事件如缺页指令、非法操作码、地址越界、Linux 1、2、3、128 号中断等，中断号由指令直接指出，无需使用中断控制器。</p>
</blockquote>
<h2 id="34-linux-系统调用">3.4 Linux 系统调用</h2>
<blockquote>
<p><a href="https://cloud.tencent.com/developer/article/1492374">Linux syscall过程分析（万字长文）</a><br>
<a href="https://docs.huihoo.com/joyfire.net/6-1.html#I452">https://docs.huihoo.com/joyfire.net/6-1.html#I452</a></p>
</blockquote>
<h1 id="4-操作系统的发展与演化">4. 操作系统的发展与演化</h1>
<figure data-type="image" tabindex="1"><img src="https://n1000g.github.io/post-images/1639520072572.jpg" alt="OS 的发展与演化" loading="lazy"></figure>
<ul>
<li>批处理系统——作业先进入磁盘再调入进内存
<ul>
<li>单道批处理系统——把一批作业脱机方式输入磁带上，在所系统配置的监督程序控制下依次连续处理</li>
<li>多道批处理系统——用作业调度算法分配资源，具有多道性、无序性、调度性</li>
</ul>
</li>
<li>分时系统——一台主机、多个终端、多个用户同时以交互方式使用、作业直接进入内存、按时间片轮转策略分配处理机，具有多路性、独立性、及时性和交互性</li>
<li>实时系统——及时响应外部事件请求并能控制所有事实任务协调一致地运行，相对分时系统，系统高度可靠</li>
</ul>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://n1000g.github.io/tag/g6AsQXnCo/" class="tag">
                    Linux
                  </a>
                
                  <a href="https://n1000g.github.io/tag/SPkd31YUC/" class="tag">
                    操作系统
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://n1000g.github.io/post/hfZT72Yi5/">
                  <h3 class="post-title">
                    JPA Criteria Queries
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
